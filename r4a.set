<configuration-set>
set version 23.4R2.9
set groups member0 system host-name r4a
set groups member0 system backup-router 10.49.127.254
set groups member0 interfaces fxp0 unit 0 family inet address 10.49.235.148/19
set groups global system root-authentication encrypted-password "$1$ZUlES4dp$OUwWo1g7cLoV/aMWpHUnC/"
set groups global system login class wheel permissions snmp
set groups global system login user regress uid 928
set groups global system login user regress class superuser
set groups global system login user regress shell csh
set groups global system login user regress authentication encrypted-password "$1$kPU..$w.4FGRAGanJ8U4Yq6sbj7."
set groups global system login user remote uid 2000
set groups global system login user remote class super-user
set groups global system services netconf ssh
set groups global system services ssh root-login allow
set groups global system services finger
set groups global system services ftp
set groups global system services rlogin
set groups global system services telnet
set groups global system services xnm-clear-text
set groups global system domain-name englab.juniper.net
set groups global system domain-search englab.juniper.net
set groups global system domain-search juniper.net
set groups global system domain-search jnpr.net
set groups global system time-zone America/Los_Angeles
set groups global system debugger-on-break
set groups global system dump-on-panic
set groups global system authentication-order password
set groups global system authentication-order radius
set groups global system name-server 10.49.32.95
set groups global system name-server 10.49.32.97
set groups global system radius-server 10.48.144.16 secret "$9$TQ/t1IcSrKAt0IRheK8X7VYgaZDm5zNdiqmTn6"
set groups global system radius-server 10.48.144.17 secret "$9$GqUqf3nCApOPfQn690ORhSeWL7-boZDylsgoGHk"
set groups global system syslog host log kernel info
set groups global system syslog host log any notice
set groups global system syslog host log pfe info
set groups global system syslog host log interactive-commands any
set groups global system syslog file messages kernel info
set groups global system syslog file messages any notice
set groups global system syslog file messages authorization info
set groups global system syslog file messages pfe info
set groups global system syslog file messages archive world-readable
set groups global system syslog file security interactive-commands any
set groups global system syslog file security archive world-readable
set groups global system processes routing enable
set groups global system processes ntp enable
set groups global system processes management enable
set groups global system processes watchdog enable
set groups global system processes snmp enable
set groups global system processes inet-process enable
set groups global system processes mib-process enable
set groups global system ntp boot-server 66.129.255.75
set groups global system ntp server 66.129.255.75
set groups global system ntp server 172.29.131.60
set groups global system ntp server 172.29.135.60
set groups global chassis dump-on-panic
set groups global snmp location "Systest lab"
set groups global snmp contact "Jay Lloyd"
set groups global snmp interface fxp0.0
set groups global snmp community public authorization read-only
set groups global snmp community private authorization read-write
set groups global routing-options static route 172.16.0.0/12 next-hop 10.49.255.254
set groups global routing-options static route 172.16.0.0/12 retain
set groups global routing-options static route 172.16.0.0/12 no-readvertise
set groups global routing-options static route 192.168.0.0/16 next-hop 10.49.255.254
set groups global routing-options static route 192.168.0.0/16 retain
set groups global routing-options static route 192.168.0.0/16 no-readvertise
set groups global routing-options static route 10.0.0.0/8 next-hop 10.49.255.254
set groups global routing-options static route 10.0.0.0/8 retain
set groups global routing-options static route 10.0.0.0/8 no-readvertise
set groups global routing-options static route 66.129.0.0/16 next-hop 10.49.255.254
set groups global routing-options static route 66.129.0.0/16 retain
set groups global routing-options static route 66.129.0.0/16 no-readvertise
set apply-groups global
set apply-groups member0
set system host-name r4a
set system ports console log-out-on-disconnect
set chassis fpc 0 pic 0 traffic-manager mode egress-only
set chassis fpc 0 flexible-queuing-mode
set chassis network-services enhanced-ip
set services network-slicing slice BGP4-SL
set services network-slicing slice VPN-S1
set interfaces ge-0/0/0 unit 0 family inet address 192.168.24.1/31
set interfaces ge-0/0/0 unit 0 family iso
set interfaces ge-0/0/0 unit 0 family mpls maximum-labels 16
set interfaces ge-0/0/0 unit 0 family mpls filter input slice-class
set interfaces ge-0/0/1 unit 0 family inet address 192.168.34.1/31
set interfaces ge-0/0/1 unit 0 family iso
set interfaces ge-0/0/1 unit 0 family mpls maximum-labels 16
set interfaces ge-0/0/1 unit 0 family mpls filter input slice-class
set interfaces ge-0/0/2 hierarchical-scheduler maximum-hierarchy-levels 2
set interfaces ge-0/0/2 unit 0 family inet address 192.168.45.0/31
set interfaces ge-0/0/2 unit 0 family iso
set interfaces ge-0/0/2 unit 0 family mpls maximum-labels 16
set interfaces ge-0/0/3 unit 0 family inet address 192.168.100.0/31
set interfaces ge-0/0/3 unit 0 family iso
set interfaces ge-0/0/3 unit 0 family mpls
set interfaces ge-0/0/4 hierarchical-scheduler
set interfaces ge-0/0/4 vlan-tagging
set interfaces ge-0/0/4 unit 0 vlan-id 100
set interfaces ge-0/0/4 unit 0 family inet
set interfaces lo0 unit 0 family inet address 100.4.4.4/32
set interfaces lo0 unit 0 family iso address 49.0001.0000.0000.0014.00
set interfaces lo0 unit 100 family inet address 4.3.2.1/32
set policy-options policy-statement bgp4-slice term ok from family inet
set policy-options policy-statement bgp4-slice term ok from protocol bgp
set policy-options policy-statement bgp4-slice term ok then accept
set policy-options policy-statement bgp4-slice term ok then slice BGP4-SL
set policy-options policy-statement deny-all then reject
set policy-options policy-statement exp-ebgp term tc from community tc555
set policy-options policy-statement exp-ebgp term tc from community tc666
set policy-options policy-statement exp-ebgp term tc then accept
set policy-options policy-statement exp-ebgp term rr from protocol isis
set policy-options policy-statement exp-ebgp term rr from route-filter 100.0.0.100/32 exact
set policy-options policy-statement exp-ebgp term rr then accept
set policy-options policy-statement exp-rr term stc from protocol static
set policy-options policy-statement exp-rr term stc from route-filter 123.4.4.4/32 exact
set policy-options policy-statement exp-rr term stc then community add color666
set policy-options policy-statement exp-rr term stc then accept
deactivate policy-options policy-statement exp-rr term stc
set policy-options policy-statement exp-rr term stc2 from protocol static
set policy-options policy-statement exp-rr term stc2 from route-filter 123.4.4.41/32 exact
set policy-options policy-statement exp-rr term stc2 then community add color555
set policy-options policy-statement exp-rr term stc2 then accept
set policy-options policy-statement exp-rr then reject
set policy-options policy-statement exp-sids-sr term nodesid from interface lo0.0
set policy-options policy-statement exp-sids-sr term nodesid from route-filter 100.4.4.4/32 exact
set policy-options policy-statement exp-sids-sr term nodesid then prefix-segment algorithm 128 index 114
set policy-options policy-statement exp-sids-sr term nodesid then prefix-segment algorithm 128 node-segment
set policy-options policy-statement exp-sids-sr term nodesid then prefix-segment algorithm 129 index 124
set policy-options policy-statement exp-sids-sr term nodesid then prefix-segment algorithm 129 node-segment
set policy-options policy-statement exp-sids-sr term nodesid then prefix-segment index 104
set policy-options policy-statement exp-sids-sr term nodesid then prefix-segment node-segment
set policy-options policy-statement exp-sids-sr term nodesid then accept
set policy-options policy-statement exp-sids-sr then reject
set policy-options policy-statement imp-ebgp term ok from protocol bgp
set policy-options policy-statement imp-ebgp term ok then accept
set policy-options policy-statement lb then load-balance per-packet
set policy-options policy-statement nhs then next-hop self
set policy-options policy-statement vpn100-exp term lo0 from interface lo0.100
set policy-options policy-statement vpn100-exp term lo0 then community add rt100
set policy-options policy-statement vpn100-exp term lo0 then community add color555
set policy-options policy-statement vpn100-exp term lo0 then accept
set policy-options policy-statement vpn100-exp then reject
set policy-options policy-statement vpn100-imp term ok from protocol bgp
set policy-options policy-statement vpn100-imp term ok from community rt100
set policy-options policy-statement vpn100-imp term ok then accept
set policy-options policy-statement vpn100-imp then reject
set policy-options community color555 members color:0:555
set policy-options community color666 members color:0:666
set policy-options community rt100 members target:1:100
set policy-options community tc555 members transport-target:0:555
set policy-options community tc666 members transport-target:0:666
set class-of-service classifiers exp EXP-SLICE forwarding-class PRM loss-priority high code-points 110
set class-of-service classifiers exp EXP-SLICE forwarding-class PRM loss-priority low code-points 100
set class-of-service classifiers exp EXP-SLICE forwarding-class STD loss-priority low code-points 000
set class-of-service forwarding-classes class PRM queue-num 1
set class-of-service forwarding-classes class STD queue-num 0
set class-of-service traffic-control-profiles IFD shaping-rate 1g
set class-of-service traffic-control-profiles VPN-S1 scheduler-map SM-VPN-S1
set class-of-service traffic-control-profiles VPN-S1 shaping-rate 2m
set class-of-service traffic-control-profiles VPN-S1 guaranteed-rate 1m
set class-of-service interfaces ge-0/0/0 unit 0 classifiers exp EXP-SLICE
set class-of-service interfaces ge-0/0/1 unit 0 classifiers exp EXP-SLICE
set class-of-service interfaces ge-0/0/2 output-traffic-control-profile IFD
set class-of-service interfaces ge-0/0/2 slice VPN-S1 output-traffic-control-profile VPN-S1
set class-of-service scheduler-maps SM-VPN-S1 forwarding-class PRM scheduler PRM-SCH
set class-of-service scheduler-maps SM-VPN-S1 forwarding-class STD scheduler STD-SCH
set class-of-service schedulers PRM-SCH transmit-rate 10k
set class-of-service schedulers PRM-SCH priority low
set class-of-service schedulers STD-SCH transmit-rate percent 2
set class-of-service schedulers STD-SCH transmit-rate rate-limit
set class-of-service schedulers STD-SCH buffer-size percent 2
set class-of-service schedulers STD-SCH priority low
set firewall family mpls filter slice-class interface-specific
set firewall family mpls filter slice-class term vpn-a from label 1000011 bottom
set firewall family mpls filter slice-class term vpn-a from exp 0
set firewall family mpls filter slice-class term vpn-a then slice VPN-S1
set firewall family mpls filter slice-class term vpn-a then count vpn-a
set firewall family mpls filter slice-class term vpn-a then accept
set firewall family mpls filter slice-class term all then accept
set routing-instances vpn100 instance-type vrf
set routing-instances vpn100 interface lo0.100
set routing-instances vpn100 route-distinguisher 100.4.4.4:100
set routing-instances vpn100 vrf-import vpn100-imp
set routing-instances vpn100 vrf-export vpn100-exp
set routing-instances vpn100 vrf-table-label
set routing-options flex-algorithm 128 color 555
set routing-options flex-algorithm 128 use-transport-class
set routing-options route-distinguisher-id 100.4.4.4
set routing-options resolution preserve-nexthop-hierarchy
set routing-options autonomous-system 100
set routing-options static route 123.4.1.1/32 discard
set routing-options static route 123.4.4.4/32 discard
set routing-options static route 123.4.4.41/32 discard
set routing-options static route 123.44.44.44/32 discard
set routing-options transport-class name tc666 color 666
set routing-options transport-class name tc555 color 555
set routing-options forwarding-table export lb
set routing-options forwarding-table export bgp4-slice
set protocols bfd sbfd local-discriminator 14
set protocols bgp group ibgp type internal
set protocols bgp group ibgp local-address 100.4.4.4
set protocols bgp group ibgp family inet transport
set protocols bgp group ibgp neighbor 100.1.1.1
set protocols bgp group ebgp type external
set protocols bgp group ebgp import imp-ebgp
set protocols bgp group ebgp family inet transport
set protocols bgp group ebgp family inet unicast
set protocols bgp group ebgp export exp-ebgp
set protocols bgp group ebgp peer-as 200
set protocols bgp group ebgp neighbor 192.168.45.1
set protocols bgp group rr type internal
set protocols bgp group rr local-address 100.4.4.4
set protocols bgp group rr family inet unicast
set protocols bgp group rr family inet-vpn unicast
set protocols bgp group rr export exp-rr
set protocols bgp group rr neighbor 100.0.0.100
set protocols isis interface ge-0/0/0.0 level 1 disable
set protocols isis interface ge-0/0/0.0 point-to-point
set protocols isis interface ge-0/0/1.0 level 1 disable
set protocols isis interface ge-0/0/1.0 point-to-point
set protocols isis interface ge-0/0/3.0 level 1 disable
set protocols isis interface ge-0/0/3.0 point-to-point
set protocols isis interface lo0.0
set protocols isis source-packet-routing srgb start-label 1000
set protocols isis source-packet-routing srgb index-range 1000
set protocols isis source-packet-routing flex-algorithm 128
set protocols isis source-packet-routing flex-algorithm 129
set protocols isis level 2 wide-metrics-only
set protocols isis backup-spf-options use-post-convergence-lfa
set protocols isis backup-spf-options use-source-packet-routing
set protocols isis traffic-engineering l3-unicast-topology
set protocols isis traffic-engineering advertisement always
set protocols isis export exp-sids-sr
set protocols mpls interface ge-0/0/0.0
set protocols mpls interface ge-0/0/1.0
set protocols mpls interface ge-0/0/2.0
set protocols rsvp interface ge-0/0/0.0
set protocols rsvp interface ge-0/0/1.0
set protocols rsvp interface ge-0/0/2.0
</configuration-set>